(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{43:function(t,e,n){},44:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var c,a,o=n(0),r=n.n(o),i=n(12),u=n.n(i),s=n(6),b=(n(42),n(43),n(15)),l=n(2),j=n(30),m=n.n(j),_=n(5),f=n(4),O=Object(l.b)("ContactList/FetchContactRequest"),d=Object(l.b)("ContactList/FetchContactSuccess"),h=Object(l.b)("ContactList/FetchContactError"),p=Object(l.b)("ContactForm /SubmitContactRequest"),C=Object(l.b)("ContactForm /SubmitContactSuccess"),x=Object(l.b)("ContactForm /SubmitContactError"),g=Object(l.b)("ContactList / DeleteContactRequest"),v=Object(l.b)("ContactList / DeleteContactSuccess"),F=Object(l.b)("ContactList / DeleteContactError"),L=Object(l.b)("Filter/SetFilter"),y=Object(l.c)([],(c={},Object(_.a)(c,d,(function(t,e){return e.payload})),Object(_.a)(c,v,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(_.a)(c,C,(function(t,e){return function(t,e){var n=e.payload;return void 0===t.map((function(t){return t.name})).find((function(t){return t===n.name}))?[n].concat(Object(b.a)(t)):(alert("".concat(n.name," \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u043a\u043d\u0438\u0433\u0435")),t)}(t,e)})),c)),S=Object(l.c)("",{"Filter/SetFilter":function(t,e){return e.payload.toLowerCase()}}),N=Object(l.c)(!1,(a={},Object(_.a)(a,p,(function(){return!0})),Object(_.a)(a,C,(function(){return!1})),Object(_.a)(a,x,(function(){return!1})),Object(_.a)(a,g,(function(){return!0})),Object(_.a)(a,v,(function(){return!1})),Object(_.a)(a,F,(function(){return!1})),Object(_.a)(a,O,(function(){return!0})),Object(_.a)(a,d,(function(){return!1})),Object(_.a)(a,h,(function(){return!1})),a)),A=Object(f.c)({items:y,filter:S,loading:N}),k=[].concat(Object(b.a)(Object(l.d)()),[m.a]),q=Object(l.a)({reducer:{contacts:A},middleware:k}),w=(n(44),n(11)),E=n(66),R=n(7),z=n.n(R),Z=n(10),B=n.n(Z);B.a.defaults.baseURL="http://localhost:4040";var D=n(1),J=function(){var t=Object(o.useState)(""),e=Object(w.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)(""),r=Object(w.a)(a,2),i=r[0],u=r[1],b=Object(o.useState)(!1),l=Object(w.a)(b,2),j=l[0],m=l[1],_=Object(o.useState)(!1),f=Object(w.a)(_,2),O=f[0],d=f[1],h=Object(s.b)(),g=function(t){"name"===t.target.attributes.id.nodeValue?(c(t.target.value),m(t.target.validity.valid)):"number"===t.target.attributes.id.nodeValue&&(u(t.target.value),d(t.target.validity.valid))};return Object(D.jsxs)("form",{className:z.a.contact_form,children:[Object(D.jsx)("label",{htmlFor:n,className:z.a.contact_form_input_label,children:"name"}),Object(D.jsx)("input",{className:z.a.contact_form_input,type:"text",id:"name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,autoComplete:"off",onChange:g,value:n,placeholder:" "}),Object(D.jsx)("label",{htmlFor:i,className:z.a.contact_form_input_label,children:"number"}),Object(D.jsx)("input",{className:z.a.contact_form_input,type:"tel",name:"number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,id:"number",autoComplete:"off",onChange:g,value:i,placeholder:" "}),Object(D.jsx)("button",{className:z.a.contact_form_button,type:"button",onClick:function(t){var e={id:Object(E.a)(),name:n,number:i};n&&""!==i&&j&&O&&(h(function(t){return function(e){e(p()),B.a.post("/contacts",t).then((function(t){var n=t.data;return e(C(n))})).catch((function(t){return e(x(t))}))}}(e)),c(""),u(""))},children:"Add contact"})]})},I=n(13),M=function(t){return t.contacts.filter},P=function(t){return t.contacts.loading},Q=Object(I.a)([function(t){return t.contacts.items},M],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),V=function(){var t=Object(s.c)(M),e=Object(s.b)();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"find contacts by name"}),Object(D.jsx)("input",{type:"text",name:"filter",autoComplete:"off",onChange:function(t){return e(L(t.target.value))},value:t})]})},K=n(8),U=n.n(K),$=function(){var t=Object(s.c)(Q),e=Object(s.c)(P),n=Object(s.b)();return Object(o.useEffect)((function(){return n((function(t){t(O()),B.a.get("/contacts").then((function(e){var n=e.data;t(d(n))})).catch((function(t){return h(t)}))}))}),[]),Object(D.jsxs)(D.Fragment,{children:[e&&Object(D.jsx)("p",{children:"Loading..."}),Object(D.jsx)("ul",{className:U.a.contactList,children:t.map((function(t){return Object(D.jsxs)("li",{className:U.a.contact_list_item,children:[Object(D.jsx)("p",{className:U.a.contact_list_item_name,children:t.name}),Object(D.jsx)("p",{className:U.a.contact_list_item_number,children:t.number}),Object(D.jsx)("button",{className:U.a.contact_list_item_button,type:"button",onClick:function(){return n((e=t.id,function(t){t(g()),B.a.delete("/contacts/".concat(e)).then((function(){return t(v(e))})).catch((function(e){return t(F(e))}))}));var e},children:"delete"})]},t.id)}))})]})},G=function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h1",{children:"phonebook"}),Object(D.jsx)(J,{}),Object(D.jsx)("h2",{children:"Contacts"}),Object(D.jsx)(V,{}),Object(D.jsx)($,{})]})};u.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(s.a,{store:q,children:Object(D.jsx)(G,{})})}),document.getElementById("root"))},7:function(t,e,n){t.exports={contact_form:"ContactForm_contact_form__3p4zE",contact_form_input:"ContactForm_contact_form_input__2POFB",contact_form_input_label:"ContactForm_contact_form_input_label__2R8xj",contact_form_button:"ContactForm_contact_form_button__uxI2Q"}},8:function(t,e,n){t.exports={contactList:"ContactList_contactList__CcQal",contact_list_item:"ContactList_contact_list_item__3q_AZ",contact_list_item_button:"ContactList_contact_list_item_button__3Rgae",contact_list_item_name:"ContactList_contact_list_item_name__3Au-P",contact_list_item_number:"ContactList_contact_list_item_number__2K9q6"}}},[[64,1,2]]]);
//# sourceMappingURL=main.6fe6bf35.chunk.js.map